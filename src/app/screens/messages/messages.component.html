<main class="content">
    <!-- <app-messages-sidebar></app-messages-sidebar> -->
    <div>
        <div class="tabs">
            <div class="tab" [class.active]="tab === 'booking'" (click)="openMessageList('booking')">Booking</div>
            <div class="tab" [class.active]="tab === 'tracking'" (click)="openMessageList('tracking')">Tracking</div>
            <div class="tab" [class.active]="tab === 'arrived'" (click)="openMessageList('arrived')">Arrived</div>
            <div class="tab" [class.active]="tab === 'paylink'" (click)="openMessageList('paylink')">Paylink</div>
            <div class="tab" [class.active]="tab === 'prepay'" (click)="openMessageList('prepay')">PrePay</div>
            <div class="tab" [class.active]="tab === 'review'" (click)="openMessageList('review')">Review</div>
            <div class="tab" [class.active]="tab === 'dreview'" (click)="openMessageList('dreview')">Driver</div>
            <div class="tab" [class.active]="tab === 'noshow'" (click)="openMessageList('noshow')">No Show</div>
            <div class="tab" [class.active]="tab === 'preauth'" (click)="openMessageList('preauth')">Pre Auth</div>
            <div class="tab" [class.active]="tab === 'custom1'" (click)="openMessageList('custom1')">Custom 1</div>
            <div class="tab" [class.active]="tab === 'custom2'" (click)="openMessageList('custom2')">Custom 2</div>
            <div class="tab" [class.active]="tab === 'chatbot'" (click)="openMessageList('chatbot')">Chatbot</div>
            <div class="tab" [class.active]="tab === 'missedcall'" (click)="openMessageList('missedcall')">Missed Calls
            </div>
            <div class="tab" [class.active]="tab === 'late'" (click)="openMessageList('late')">Late</div>
        </div>
    </div>
    <div class="right">
        <div class="top" style="margin-top: 0;">
            <h1><span style="text-transform: capitalize;">{{currentList}}</span> Messages For WhatsApp</h1>
            <!-- <button>
            <svg xmlns="http://www.w3.org/2000/svg" width="21" height="14" viewBox="0 0 21 14" fill="none">
                <path d="M2 1.79065H18.67M5.12556 7.00002H15.5443M9.29302 12.2094H11.3768" stroke="white"
                    stroke-width="3" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
            <span>
                View All Messages
            </span>
            <svg xmlns="http://www.w3.org/2000/svg" width="21" height="20" viewBox="0 0 21 20" fill="none">
                <path d="M6.50342 8.33337L10.6701 12.5L14.8367 8.33337" stroke="white" stroke-width="1.5"
                    stroke-linecap="round" stroke-linejoin="round" />
            </svg>
        </button> -->
        </div>
        <div class="instance_grid">
            <div class="instance_card"
                *ngFor="let instance of currentMessageList.slice(0, currentMessageList.length-1);let i = index;">
                <div>
                    <div class="ic_top">
                        <h4>{{currentList}} Message {{i+1}}</h4>
                        <div class="ict_right">
                            <span class="limit_text" *ngIf="instance.limit > 0 && instance.isEditable">
                                {{instance.value.length}} / {{instance.limit}} characters
                            </span>
                            <button class="edit" (click)="toggleEdit(instance.id)">
                                <img src="../../assets/icons/edit.svg" alt="e">
                                <span>{{instance.isEditable ? "Save": "Edit"}}</span>
                            </button>
                        </div>
                    </div>
                    <!-- <textarea [disabled]="!instance.isEditable" [(ngModel)]="instance.value"
                        (ngModelChange)="onTextAreaChange(instance, $event)" placeholder="Type here..."></textarea> -->
                    <textarea value="instance" placeholder="Type here..."></textarea>
                </div>
            </div>
        </div>

        <div class="top">
            <h1>
                <span style="text-transform: capitalize;">{{currentList}}</span> Messages For SMS
            </h1>
        </div>
        <div class="instance_grid">
            <div class="instance_card" *ngFor="let instance of instanceData.slice(3, instanceData.length)">
                <div class="ic_top">
                    <h4>{{instance.name}}</h4>
                    <div class="ict_right">
                        <span class="limit_text" *ngIf="instance.limit > 0 && instance.isEditable">
                            {{instance.value.length}} / {{instance.limit}} characters
                        </span>
                        <button class="edit" (click)="toggleEdit(instance.id)">
                            <img src="../../assets/icons/edit.svg" alt="e">
                            <span>{{instance.isEditable ? "Save": "Edit"}}</span>
                        </button>
                    </div>
                </div>
                <textarea [disabled]="!instance.isEditable" [(ngModel)]="instance.value"
                    (ngModelChange)="onTextAreaChange(instance, $event)" placeholder="Type here..."></textarea>
            </div>
        </div>
    </div>
</main>